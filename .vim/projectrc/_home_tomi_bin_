let g:lsp_autoformat_pylsp = v:true

if fnamemodify(expand('%'), ':~') ==# '~/bin/liskin-slack-status.py'
	let g:lsp_cmd_pylsp = [fnamemodify('~/bin/.venv-slack-sdk/bin/python', ':p'), '-m', 'pylsp']
	let g:lsp_settings_pylsp['pylsp']['plugins']['black'] = #{enabled: v:true, line_length: 100}
endif

if fnamemodify(expand('%'), ':~') ==# '~/bin/liskin-include-preproc.py'
	let g:lsp_settings_pylsp['pylsp']['plugins']['black'] = #{enabled: v:true, line_length: 100}
endif
