/* ==UserStyle==
@name           Discord high contrast, high density
@namespace      https://github.com/liskin/dotfiles/tree/home/src-webextensions
@version        1.0.0
@author         Tomáš Janoušek
==/UserStyle== */

@-moz-document domain("discord.com") {

	/* high contrast */
	.theme-dark {
		--background-primary: #000;
		--background-secondary: #111;
		--background-secondary-alt: #222;
		--background-tertiary: #222;
		--channeltextarea-background: #222;
		--text-normal: #ddd;
	}

	/* use system fonts */
	:root {
		--font-primary: sans-serif;
		--font-display: sans-serif;
		--font-headline: sans-serif;
		--font-code: monospace;
	}

	/* collapse sidebar */
	div[class*="sidebar_"] { width: 80px; transition: width 0.3s; }
	div[class*="sidebar_"]:hover { width: 240px; }

	/* show as much as possible in collapsed sidebar */
	div[class*="sidebar_"]:not(:hover) div[class*="linkTop_"] div[class*="children_"] { display: none; }
	div[class*="sidebar_"]:not(:hover) div#channels { overflow: hidden overlay !important; }
	div[class*="sidebar_"]:not(:hover) div#channels div[class*="overflow_"] { text-overflow: clip; }

	/* collapse guild navigation */
	nav[class*="guilds_"] { z-index: 100; width: 10px; transition: width 0.3s; }
	nav[class*="guilds_"]:hover { width: 72px; }

	/* no right padding for messages */
	div[class*="messagesWrapper_"] div[class*="message_"] { padding-right: 0px !important; }

	/* wider inbox */
	div[class*="recentMentionsPopout_"] { width: 80vw; max-width: 80vw; }

	/* fix line-wrapped timestamp with non-default fonts */
	span[class*="latin12CompactTimeStamp_"]:not(.XXX1) { width: 2.5rem; }

}
