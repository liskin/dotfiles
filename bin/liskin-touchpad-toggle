#!/usr/bin/env bash

set -eu

function toggle-device {
	if [[ "$(xinput list-props "${1:?device}")" =~ "Device Enabled "[^[:space:]]*:$'\t'1 ]]; then
		xinput disable "$1"
	else
		xinput enable "$1"
	fi
}

xi_touchpad=$(xinput list --name-only | grep -i -m 1 'touchpad$' | sed -e 's/^âˆ¼ //')
toggle-device "$xi_touchpad"
